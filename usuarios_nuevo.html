<!doctype html>
<html lang="es" data-bs-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Nuevo usuario · Inventario</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root{ color-scheme: dark; }
    body{ min-height:100vh; background:linear-gradient(135deg,#7e8a8f,#74777d 60%,#9db6d4) }
    .glass{
      background:rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.15);
      backdrop-filter:blur(18px);
      border-radius:18px; box-shadow:0 10px 60px rgba(0,0,0,.25)
    }
    .form-control,.form-select{
      background:#111; color:#fff; border:1px solid rgba(255,255,255,.25)
    }
    .form-control::placeholder{ color:#aaa }
    .form-control:focus,.form-select:focus{
      background:#1a1a1a; color:#fff; border-color:#666;
      box-shadow:0 0 0 .25rem rgba(99,102,241,.25)
    }
    .form-select option{ background:#111; color:#fff }
    a.nav{ color:#e7ecff; margin-right:12px; text-decoration:none }
    a.nav:hover{ text-decoration:underline }
  </style>
</head>
<body class="text-white">
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div><a class="nav" href="{{ url_for('usuarios_list') }}">← Volver</a></div>
    <a class="btn btn-outline-light btn-sm" href="{{ url_for('logout') }}">
      <i class="bi bi-box-arrow-right"></i> Salir
    </a>
  </div>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% for c,m in messages %}
      <div class="alert alert-{{c}} glass text-white">{{ m }}</div>
    {% endfor %}
  {% endwith %}

  <div class="glass p-4 p-md-5">
    <h1 class="h4 mb-3">Nuevo usuario</h1>
    <form method="post">
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Nombre</label>
          <input class="form-control" name="nombre" required placeholder="Nombre y apellidos">
        </div>
        <div class="col-md-6">
          <label class="form-label">Correo</label>
          <input type="email" class="form-control" name="correo" required placeholder="correo@dominio.com">
        </div>
        <div class="col-md-6">
          <label class="form-label">Contraseña</label>
          <input type="password" class="form-control" name="password" required placeholder="••••••••">
        </div>
        <div class="col-md-4">
          <label class="form-label">Rol</label>
          <select class="form-select" name="idRol" required>
            <option value="" selected disabled>Selecciona…</option>
            {% for r in roles %}
              <option value="{{ r.idRol }}">{{ r.nombre }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="col-md-2 d-flex align-items-end">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="chkAct" name="estatus" checked>
            <label class="form-check-label" for="chkAct">Activo</label>
          </div>
        </div>
        <div class="col-12">
          <button class="btn btn-primary"><i class="bi bi-check2 me-1"></i>Guardar</button>
          <a class="btn btn-outline-light ms-2" href="{{ url_for('usuarios_list') }}">Cancelar</a>
        </div>
      </div>
    </form>
  </div>
</div>
</body>
</html>
